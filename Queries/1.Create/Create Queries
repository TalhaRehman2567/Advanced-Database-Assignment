-- Bus Master Table
CREATE TABLE BUS_MASTER (
    BUS_ID NUMBER PRIMARY KEY,
    BUS_NAME VARCHAR2(100) NOT NULL,
    TOTAL_SEATS NUMBER DEFAULT 32,
    BUS_TYPE VARCHAR2(50),
    CREATED_DATE DATE DEFAULT SYSDATE
);

-- Route Master Table
CREATE TABLE ROUTE_MASTER (
    ROUTE_ID NUMBER PRIMARY KEY,
    FROM_LOCATION VARCHAR2(100) NOT NULL,
    TO_LOCATION VARCHAR2(100) NOT NULL,
    DISTANCE_KM NUMBER,
    CREATED_DATE DATE DEFAULT SYSDATE
);

-- Bus Schedule Table
CREATE TABLE BUS_SCHEDULE (
    SCHEDULE_ID NUMBER PRIMARY KEY,
    BUS_ID NUMBER REFERENCES BUS_MASTER(BUS_ID),
    ROUTE_ID NUMBER REFERENCES ROUTE_MASTER(ROUTE_ID),
    DEPARTURE_TIME VARCHAR2(10),
    ARRIVAL_TIME VARCHAR2(10),
    JOURNEY_DATE DATE,
    FARE_AMOUNT NUMBER(8,2),
    STATUS VARCHAR2(20) DEFAULT 'ACTIVE'
);

-- Booking Master Table
CREATE TABLE BOOKING_MASTER (
    BOOKING_ID NUMBER PRIMARY KEY,
    SCHEDULE_ID NUMBER REFERENCES BUS_SCHEDULE(SCHEDULE_ID),
    USER_NAME VARCHAR2(100),
    USER_EMAIL VARCHAR2(100),
    USER_MOBILE VARCHAR2(15),
    TOTAL_SEATS NUMBER,
    TOTAL_AMOUNT NUMBER(10,2),
    BOOKING_DATE DATE DEFAULT SYSDATE,
    BOOKING_STATUS VARCHAR2(20) DEFAULT 'CONFIRMED'
);

-- Seat Booking Details
CREATE TABLE SEAT_BOOKING (
    SEAT_BOOKING_ID NUMBER PRIMARY KEY,
    BOOKING_ID NUMBER REFERENCES BOOKING_MASTER(BOOKING_ID),
    SEAT_NUMBER VARCHAR2(10),
    SEAT_STATUS VARCHAR2(20) DEFAULT 'BOOKED'
);
